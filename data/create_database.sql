CREATE TABLE [business](
  [business_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [business_name] VARCHAR(120) NOT NULL ON CONFLICT FAIL);

CREATE TABLE [date](
  [date_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [year] INT(4) NOT NULL ON CONFLICT FAIL, 
  [month] INT(2) NOT NULL ON CONFLICT FAIL, 
  [day] INT(2), 
  UNIQUE([year] ASC, [month] ASC, [day] ASC) ON CONFLICT FAIL);

CREATE TABLE [field](
  [field_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [field] VARCHAR(120) NOT NULL ON CONFLICT FAIL);

CREATE TABLE [account](
  [account_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [amount] REAL NOT NULL ON CONFLICT FAIL, 
  [is_positive] BOOL NOT NULL ON CONFLICT REPLACE, 
  [field_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [field]([field_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, 
  [business_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [business]([business_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, 
  [date_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [date]([date_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE);

CREATE TABLE [employee](
  [employee_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [employee_name] VARCHAR(120) NOT NULL ON CONFLICT FAIL, 
  [business_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [business]([business_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE);

CREATE TABLE [payment_type](
  [payment_type_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [payment_type] VARCHAR(60) NOT NULL ON CONFLICT FAIL UNIQUE ON CONFLICT FAIL);

CREATE TABLE [payroll](
  [payroll_id] INTEGER PRIMARY KEY ASC AUTOINCREMENT, 
  [amount] REAL NOT NULL ON CONFLICT FAIL, 
  [payment_type_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [payment_type]([payment_type_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, 
  [employee_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [employee]([employee_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, 
  [date_id] INTEGER NOT NULL ON CONFLICT FAIL REFERENCES [date]([date_id]) ON DELETE CASCADE ON UPDATE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE);

